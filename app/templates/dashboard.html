<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body class="dashboard-page">
    <div class="container">
      <h1>Dashboard</h1>

      <div class="dashboard-content">
        <div class="stats-grid">
          <div class="stat-card">
            <div>ğŸ”¥ Current Streak</div>
            <strong>{{ data.current_streak }}</strong>
            <div style="font-size: 0.9em; margin-top: 5px">days</div>
          </div>
          <div class="stat-card">
            <div>ğŸ† Best Streak</div>
            <strong>{{ data.best_streak }}</strong>
            <div style="font-size: 0.9em; margin-top: 5px">days</div>
          </div>
        </div>

        <div class="weekly-section">
          <h3>Weekly Completion</h3>
          <ul>
            {% for day in data.weekly %}
            <li class="weekly-item">
              <span class="day-label">{{ day.date }}</span>
              <div class="progress-container" style="flex: 1; margin: 0 15px">
                <div
                  class="progress-bar"
                  style="width: {{ day.percent }}%;"
                ></div>
              </div>
              <span style="font-weight: 600; min-width: 50px"
                >{{ "%.2f"|format(day.percent) }}%</span
              >
            </li>
            {% else %}
            <li>No data available.</li>
            {% endfor %}
          </ul>
        </div>

        <div class="consistency-section">
          <h3>Task-wise Consistency</h3>
          <ul>
            {% for t in data.task_consistency %}
            <li class="consistency-item">
              <span class="task-name">{{ t.task }}</span>
              <div class="consistency-bar">
                <div class="progress-container">
                  <div
                    class="progress-bar"
                    style="width: {{ t.percent }}%;"
                  ></div>
                </div>
              </div>
              <span class="consistency-percent">{{ t.percent }}%</span>
            </li>
            {% else %}
            <li>No task data available.</li>
            {% endfor %}
          </ul>
        </div>

        <hr />
        <a href="/" class="back-link">ğŸ”™ Back to Home</a>
      </div>
    </div>
  </body>
</html>
